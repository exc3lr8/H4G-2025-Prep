from pwn import *

io = remote('83.136.254.47', 41723)


# Define the mapping of scenarios to responses
response_map = {
    'GORGE': 'STOP',
    'PHREAK': 'DROP',
    'FIRE': 'ROLL'
}

# Start interaction with the server
io.recvuntil(b'Are you ready? (y/n)')
io.sendline(b'y')
io.recvline()
while True:
    # Receive the next prompt with the scenarios
    prompt = io.recvline().decode('utf-8').strip()
    print(f"Received prompt: {prompt}")
    
    # Split the prompt into individual scenarios
    scenarios = prompt.split(", ")
    
    # Create the appropriate response
    responses = [response_map[scenario] for scenario in scenarios if scenario in response_map]
    reply = '-'.join(responses)
    
    # Send the response back
    io.sendline(reply.encode())
    print(f"Sent reply: {reply}")

    # # Optionally receive feedback after the response
    # feedback = io.recvline().decode('utf-8').strip()
    # print(f"Received feedback: {feedback}")

# Close the connection
io.close()


